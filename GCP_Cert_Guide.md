# Official Google Cloud Certified Associate Cloud Engineer Study Guide

# Contents
[TOC]

---

# 소개
구글 클라우드 플랫폼(GCP)는 구글에서 제공하는 동일한 소프트웨어, 하드웨어, 네트워킹 인프라를 사용자에게 제공하는 퍼블릭 클라우드다. 사업, 기업, 개인은 몇 분안에 서버를 설치하고, 페타바이트의 데이터를 저장하고, GCP에 글로벌 가상 클라우드를 구현할 수 있다. GCP에는 쉽게 사용할 수 있는 콘솔, CLI 툴, 클라우드에서 리소스를 관리하기 위한 API를 포함하고 있다. 사용자는 가상머신(VM), 디스크와 같은 일반적인 리소스를 사용하거나 IoT를 위한 서비스, 머신러닝, 미디어, 다른 특정 도메인에 특화된 서비스를 선택할 수 있다.

GCP에서 어플리케이션과 서비스를 배포하고 관리하는 것은 구글이 사용자 계정을 구성하고, identities와 접근 제어를 관리하는 방법에 명확한 이해가 필요하다. 또한 다양한 서비스의 장단점을 이해해야 한다. Associate Cloud Engineer 인증은 구글 클라우드에서 인프라, 서비스, 네트워크를 배포하고 운영하는 데에 필요한 지식과 스킬을 증명한다.

이 스터디 가이드는 Google Cloud에서 동작하는 리소스들의 필요를 충족시키기위한 GCP를 자세하게 이해하는데 도움이 되도록 설계되었다. 물론 이 책은 Associate Cloud Engineer 인증 시험을 통과하는데 도움을 주지만, 벼락치기를 위한 가이드는 아니다. 당신은 시험에 통과하기 위해 필요한 것보다 더 많이 배울 것이다. 서비스 선택, 사용자 관리, 배포, 모니터링, 클라우드 기반 솔루션에서 사업 요구사항 매핑과 같이 클라우드 엔지니어가 직면하는 이슈를 해결하는 방법을 배울 것이다.

이 책의 각 챕터는 하나의 주제를 다루고, 인증 시험을 통과하기위해 알아야하는 핵심 정보를 설명하는 "Exam Essentials" 섹션을 포함한다. 그리고 복습을 도와주고, 각 챕터의 이해력을 강화하기위한 연습을 포함한다. 시험에서 볼 수도 있는 질문의 유형 감각을 얻기 위한 샘플 문제는 각 챕터의 마지막에 포함되어있다. 이 책은 또한 쉽게 이해할 수 있도록 만든 카드(flashcard)와 가이드를 통해 배우는 모든 토픽에 대한 연습 문제를 포함하고 있다.

[맨 위로](#Contents) 

## 이 책에서 다루는 것

이 책은 GCP의 제품과 서비스를 설명한다. G Suite 관리자 주제는 포함하지 않는다.

**Chapter 1 : 구글 클라우드 플랫폼 Overview**
이 챕터에서는 compute, storage, 머신러닝 상품과 같은 networking 서비스를 포함하여 GCP에서 제공하는 서비스들의 유형을 확인한다. 이 챕터에서는 또한 클라우드 컴퓨팅과 데이터 센터 혹은 on-premise 컴퓨팅의 핵심 차이에 대해 설명한다.

**Chapter 2 : 구글 클라우드 컴퓨팅 서비스** 이 챕터에서는 computing, storage, networking과 같은 인프라스트럭쳐 서비스에 대한 기초를 제공한다. ID 관리와 관련 서비스의 컨셉도 소개한다. 또한 DevOps 주제와 어플리케이션과 리소스를 배포하고 모니터링하기 위한 도구들을 소개한다.GCP는 머신러닝과 자연어 처리 서비스와 같은 특화 서비스의 리스트를 포함한다. 이 챕터에서는 특화 서비스들을 간단하게 다룬다. 이 챕터는 regions과 zones을 살펴보면서 구글 클라우드의 조직 구조를 소개한다. 이 챕터에는 패키지된 어플리케이션을 배포하기 위한 클라우드 런쳐의 논의 내용이 포함되어있다.

**Chapter 3 : 프로젝트, 서비스계정, 빌링** GCP와 작업하기 시작할 때 해야할 일 중에 하나는 계정을 세팅하는 것이다. 이 챕터에서, 조직, 폴더, 프로젝트에서 계정별 리소스를 구성하는 방법에 대해 배울 것이다. 이 구조를 생성하고 수정하는 방법을 배울 것이다. 특정 프로젝트를 위한 API 활성화 뿐만 아니라 특정 프로젝트의 접근 제어와 사용자 ID를 관리하는 방법에 대해 배울 것이다. 이 챕터는 빌링 계정을 생성하고 프로젝트에 연결하는 방법에 대해 설명한다. 또한 예산을 생성하고, 비용환리를 도와주기위한 빌링 알림을 정의하는 방법에 대해 배울 것이다. 마지막으로 이 챕터는 GCP의 모니터링 시스템중 하나로 사용되는 Stackdriver 계정을 생성하는 방법에 대해 설명한다.

**Chapter 4 : 구글 클라우드 컴퓨팅 소개** 이 챕터에서는 GCP에서 어플리케이션과 서비스가 동작하기 위해 이용할 수 있는 다양한 옵션들을 확인할 것이다. 옵션들은 리눅스나 윈도우OS에서 동작하는 VM을 제공하는 Compute Engine을 포함한다. App Engine은 개발자들이 스스로 VM을 관리해야하는 걱정없이 그들의 어플리케이션을 실행할 수 있는 Platform as a service(PaaS) 옵션이다. 다수의 어플리케이션과 서비스를 실행할 것이라면, VM을 대체할 수 있는 가벼운 컨테이너를 원할지도 모른다. 이 챕터에서는 컨테이너와 이를 관리하는 Kubernetes Engine에 대해서 배울 것이다. 또한 Cloud Storage에서 로그되는 이미지의 처리 동작과 같이 이벤트 중심의 짧은 실행 작업을 위한 Cloud Functions를 소개한다. 또한 모바일 어플리케이션의 백엔드 인프라를 제공하는 데 적합한 서비스인 Firebase에 대해서 배울 것이다.

**Chapter 5 : Compute Engine 가상 머신의 Computing** 이 챕터에서는 CPU, 메모리, 저장소 옵션, OS 이미지를 선택하는 것을 포함한 VM 설정 방법에 대해 배울 것이다. VM을 동작하기 위한 GCP 콘솔과 Cloud Shell을 사용하는 방법을 배울 것이다. 게다가 VM을 기동하거나 정지할 때 사용할 CLI와 SDK를 설치하는 방법을 확인할 것이다. 이 챕터는 또한 VM으로 네트워크 접속을 허용하는 방법에 대해 설명한다.

**Chapter 6 : 가상머신 관리** 이전 챕터에서 VM을 생성하는 방법을 배웠고, 이 챕터에서는 VM 단위와 그룹별로 관리하는 방법을 배울 것이다. GCP 콘솔을 사용하여 VM 하나의 인스턴으를 관리하는 것으로 시작할 것이다. 그리고 Cloud Shell과 CLI를 사용하여 같은 동작을 수행할 것이다. 다음으로, 하나의 단위로 관리할 수 있는 VM 집합을 생성하도록 허용한 인스턴스 그룹에 대해서 배울 것이다. 인스턴스 그룹 섹션에서 관리된/관리되지 않은 인스턴스 그룹의 차이를 배울것이다. 또한 구글에 의해서 정지될 수도 있는 저비용의 VM인 Preemptible instances를 배울 것이다. preemptible 인스턴스의 비용 절충에 대해서 배울 것이다. 마지막으로, 이 챕터는 VM 관리를 위한 가이드라인으로 마무리된다.

**Chapter 7 : Kubernetes 컴퓨팅** 이 챕터는 구글에서 관리하는 Kubernetes service인 Kubernetes Engine을 소개한다. Kubernetes는 구글에 의해서 생성되고, 오픈소스로 릴리즈된 컨테이너 오케스트레이션 플랫폼이다. 이 챕터에서는 컨테이너, 컨테이너 오케스트레이션, Kubernetes 아키텍처의 기초에 대해서 배울 것이다. Pods, Services, Volumes, Namespace와 같은 Kubernetes 오브젝트 뿐만 아니라, ReplicaSets, deployments, jobs과 같은 Kubernetes 컨트롤러의 소개를 포함한다.
다음으로, 이 챕터는 GCP 콘솔, Cloud Shell, SDK를 사용하여 Kubernetes 클러스터를 배포하는 것을 배운다. 또한 존재하는 Docker 이미지 다운로드, Dokcer 이미지 빌드, pod 생성과 같이 Pods를 배포하는 방법과 Kubernetes 클러스터에 어플리케이션을 배포하는 것에 대해 학습한다. 서버의 클러스터를 확인하는 방법에 대해 알 필요가 있다. 이 챕터에서는 구글의 어플리케이션, 서비스, 컨테이너, 인프라 모니터링 서비스인 스택드라이버를 이용하여 모니터링과 로깅을 세팅하는 방법에 대한 설명을 제공한다.

**Chapter 8 Kubernetes 클러스터 관리** 이 챕터에서는 클러스터의 상태 확인, 이미지 저장소의 컨텐츠 확인, 저장소에 저장된 이미지의 세부정보 확인, node/pod/service의 추가/수정/삭제에 대한 Kubernetes 클러스터 관리의 기초에 대해서 배울 것이다. VM 관리 챕터처럼 이 챕터에서는 3가지 관리도구(GCP 콘솔, Cloud Shell, SDK)를 이용하여 관리 동작을 수행하는 방법을 배울 것이다. 이 챕터는 Kubernetes 클러스터 관리를 위한 좋은 예시와 가이드라인에 대한 논의로 마무리한다.

**Chapter 9 App Engine 컴퓨팅** 구글 App Engine은 구글의 PaaS 서비스다. 어플리케이션, 서비스, 버전, 인스턴스와 같은 App Engine 컴포넌트에 대해 배울 것이다. 이 챕터는 또한 설정 파일을 정의하고, 어플리케이션의 dependencies를 지정하는 방법을 다룬다. 이 챕터에서는 GCP 콘솔, Cloud Shell, and SDK를 사용하여 App Engine 리소스를 확인하는 방법을 배울 것이다. 또한 분산 매개변수로 트래픽을 조정하여 워크로드를 분산하는 방법을 설명한다. 또한 App Engine의 오토 스케일링에 대해서 배울 것이다.

**Chapter 10 Cloud Functions 컴퓨팅** Cloud Functions은 이벤트 기반을 위한 서버리스 연산이다. 이 챕터에서는 Cloud Functions를 사용하여 이벤트를 수신하고, 서비스를 실행하고, 결과를 리턴하는 것을 소개한다. 다음으로 3rd party API 통합, 이벤트 기반 처리와 같은 Cloud Functions의 사용 사례를 확인할 것이다. publications, subscription 기반의 처리를 위한 구글의 Pub/Sub 서비스와 Pub/Sub과 함께 Cloud Functions을 사용하는 방법에 대해 배울 것이다. Cloud Function은 Cloud Storage에서 이벤트를 응답하는데 잘 맞는다. 이 챕터에서는 Cloud Storage 이벤트와 이 이벤트를 수신하고 응답하기 위한 Cloud Functions의 사용 방법에 대해 설명한다. Cloud functions 실행의 상세 로그와 모니터링을 위한 Stackdriver 사용 방법을 배울 것이다. 마지막으로 이 챕터는 Cloud Functions 사용과 관리를 위한 가이드라인으로 마무리한다.

**Chapter 11 클라우드에서 storage 계획** GCP의 다양한 컴퓨팅 옵션에 대해서 설명했고, 이제는 Storage로 변경할 때이다. 이 챕터는 접속, 지속 시간, 데이터 모델과 같은 storage 시스템의 특정을 설명한다. 이 챕터에서는 캐쉬, persistent storage, archival storage의 차이에 대해 배울 것이다. regional과 multi regional persistent storage와 nearline vs coldline archival storage를 사용하는 것의 비용 절감 효과에 대해서 배울 것이다. 이 챕터에는 blob storage를 위한 Cloud Storage, 관계형 저장소 옵션인 Cloud SQL과 Spanner, NoSQL 저장소를 위한 Datastore, Bigtable, BigQuery 옵션에 해당하는 다양한 GCP 저장소 옵션에 대한 상세정보를 포함한다. 이 챕터는 지속성, 이용가능성, 트랜잭션 지원, 비용, 지연, 다른 read/write 패턴을 위한 지원의 요구사항을 기반에 기반한 데이터 저장소를 선택하는 자세한 가이드라인을 포함한다.

**Chapter 12 : 구글 클라우드 플랫폼에 저장소 배포** 이 챕터에서는 GCP의 스토리지 시스템의 각각에서 데이터베이스를 생성하고, 데이터를 추가하고, 레코드를 나열하고, 데이터를 삭제하는 방법을 배울 것이다. 이 챕터는 MySQL과 PostgreSQL을 제공하는 관리형 데이터베이스 서비스인 Cloud SQL을 소개하는 것으로 시작한다. Cloud Datastore, BigQuery, Bigtable, Spanner에 데이터베이스를 생성하는 방법을 배울 것이다. 다음으로, 메시지 큐에 데이터를 저장할 수 있는 Cloud Pub/Sub을 배우고, 큰 데이터 셋을 처리하기 위한 Hadoop, Spark 클러스터 서비스과 같은 Cloud Dataproc에 대해 논한다. 다음 섹션에서는 오브젝트를 위한 Cloud Storage에 대해 배울 것이다. 이 챕터는 특정 요구사항 집합을 위한 데이터 저장소를 선택하는 방법에 대한 가이드로 마무리한다.

**Chapter 13 : 스토리지에서 데이터 불러오기** GCP에서 데이터를 얻는 방법은 다양하다. 이 챕터는 Cloud SQL, Cloud Storage, Datastore, BigQuery, BigTable, Dataproc에서 데이터를 로드하기 위해 CLI SDK를 사용하는 방법에 대해 설명한다. 또한 같은 서비스에 대해 벌크로 데이터를 적재하거나 추출하는 것을 설명한다. 다음으로, Cloud Storage로부터 데이터를 옮기고, Cloud Pub/Sub으로 데이터를 스트리밍하는 2가지 공통 데이터 로딩 패턴에 대해 배울 것이다.

**Chapter 14 : 클라우드 네트워킹: Virtual Private Clouds와 Virtual Private Networks** 이 챕터에서는 아래 내용같은 기본 네트워킹 컨셉의 소개와 함께 네트워킹을 배울 것이다.
* IP 주소
* CIDR blocks
* Network와 subnetworks
* Virtual Private Clouds (VPCs)
* Routing과 rules
* Virtual Private Network (VPNs)
* Cloud DNS
* Cloud routers
* Cloud interconnect
* External peering
네트워킹 컨셉의 핵심이 소개된 후에, VPC를 생성하는 방법에 대해 배울 것이다. 특히, VPC 정의, 방화벽 정책 지정, VPN 생성, 로드 밸런서 동작이 포함될 것이다. 로드밸런서의 다른 유형과 이를 사용하는 시기에 대해서 배울 것이다.

**Chapter 15 : 클라우드 네트워킹 : DNS, 로드 밸런싱, IP할당** 이 챕터에서는 서브넷 정의, VPN 서브넷 추가, CIDR 블럭 관리, IP 주소 확보와 같은 공통 네트워크 관리 업무에 대해서 배울 것이다. Cloud 콘솔, Cloud Shell, Cloud SDK를 사용하여 각 업무를 수행하는 방법에 대해 배울 것이다.

**Chapter 16 : Cloud Launcher와 배포 매니저로 어플리케이션 배포** 구글 클라우드 런처는 미리 설정된 stacks과 서비스의 마켓플레이스다. 이 챕터에서는 Cloud Launcher를 소개하고, 몇몇 어플리케이션과 현재 이용가능한 서비스를 설명한다. Cloud Launcher을 통해서 탐색하고, 어플리케이션을 배포하고, 어플리케이션을 중지하는 방법을 배울 것이다. 또한 이 챕터에서는 어플리케이션의 배포를 자동화하는 Deployment Manager 템플릿, GCP 리소스 할당을 위한 템플릿, 자동적으로 어플리케이션 설정하는 것을 논의한다.

**Chapter 17 : 접근과 보안 설정** 이 챕터에서는 ID 관리를 소개한다. 특히, ID, roles, 권한 할당과 제거를 배울 것이다. 또한 이 챕터에서는 서비스 계정을 소개하고, 계정을 생성하고, 계정에 VM을 할당하고, 프로젝트를 동작하는 방법을 소개한다. 그리고 프로젝트와 서비스를 위한 감시 로그를 확인하는 바업을 배울 것이다. 이 챕터는 접근 제어 보안 설정을 위한 가이드라인으로 마무리한다.

**Chapter 18 : 모니터링, 로딩, 비용 예측** 마지막 챕터에서는 Stackdriver 알림, 로그, 분산 추적, 어플리케이션 디버깅을 논한다. GCP 서비스에 해당하는 것들은 더 효과적이고, 기능적이고, 신뢰적인 서비스로 설계되었다. 이 챕터는 GCP에서 리소스의 비용을 예측하기위해 도움이 되는 비용 계산의 리뷰로 마무리한다.

[맨 위로](#Contents) 

## 시험 과목

Associate Cloud Engineer 인증은 GCP에 기업 어플리케이션과 인프라를 생성하고, 배포하고, 관리하는 사람을 위해 설계되었다. Associate Cloud Engineer는 Cloud Console, Cloud Shell, Cloud SDK와 동작하기 적합하다. 또한 GCP의 한 부분으로 제공되는 제품과 적합한 사용사례를 이해한다.
이 시험은 아래 내용에 대해서 당신의 지식을 테스트한다.
* 하나이상의 GCP 서비스를 사용하여 클라우드 솔루션을 기획하는 것
* 조직을 위한 클라우드 환경을 생성하는 것
* 어플리케이션과 인프라를 배포하는 것
* 클라우드 솔루션의 이용가능성을 보증하기위해 모니터링과 로깅을 사용하는 것
* ID 관리, 접근 제어, 다른 보안 감지를 세팅하는 것

### 과목 map

아래는 [https://cloud.google.com/certification/guides/cloud-engineer](https://cloud.google.com/certification/guides/cloud-engineer) 에서 구글이 정의한 과목이 명시한다.

**Section 1 : 클라우드 솔루션 환경 세팅**

**1.1 클라우드 프로젝트와 계정 세팅**
* 프로젝트 생성
* 프로젝트 내에서 사전 정의된 IAM(Identity and Access Management)룰을 사용자에게 할당하는 것
* G suite ID에 유저를 연결하는 것
* 프로젝트 내에서 API를 활성화하는 것
* 하나 이상의 Stackdriver 계정을 프로비저닝 하는 것
  
**1.2 과금 설정 관리**
* 하나이상의 과금 계정을 생성하는 것
* 빌링 계정을 프로젝트에 연결하는 것
* 과금 예산과 알림을 설정하는 것
* 일/월 단위 비용을 측청하기위한 과금 내보내기 설정하는 것
  
**1.3 command-line interface(CLI), 특히 Cloud SDK를 설치하고 설정**

**Section 2 : 클라우드 솔루션을 기획하고 설정**

**2.1 비용 계산기를 사용하여 GCP 제품 사용을 기획하고 측정하는 것**

**2.2 컴퓨트 자원을 기획하고 설정하는 것**
* 주어진 워크로드를 위해 적합한 compute를 선택하는 것(ex. Compute Engine, Kubernetes Engine, App Engine)
* 미리 선점된 VM과 커스텀 머신을 사용하는 것
  
**2.3 데이터 스토리지 옵션을 기획하고 설정**
* 제품 선택(ex. Cloud SQL, BigQuery, Cloud Spanner, Cloud Bigtable)
* 스토리지 옵션 선택(ex. Reginal, Multiregional, Nearline, Coldline)
  
**2.4 네트워크 리소스를 기획하고 설정**
* 로드밸런싱 옵션을 구별하는 것
* 이용가능성을 위해 네트워크에서 리소스 위치를 지정하는 것
* Cloud DNS 설정하는 것

**Section 3 : 클라우스 솔루션을 배포하고 구현**

**3.1 Compute Engine 리소스를 배포하고 구현하는 것**
* Cloud Console과 Cloud SDK(gcloud)를 사용하여 compute instance를 실행하는 것(ex. assign disk, availability policy, SSH keys)
* 인스턴스 템플릿을 사용하여 오토스케일 관리 인스턴스 그룹을 생성하는 것
* 인스턴스를 위한 커스텀 SSH 키를 생성하고 업로드하는 것
* Stackdriver 모니터링과 로깅을 위한 VM을 설정하는 것
* compute 할당량 평가와 증설 요청
* 모니터링과 로깅을 위한 Stackdriver 에이전트를 설치하는 것

**3.2 Kubernetes Engine 리소스를 배포하고 구현**
* Kubernetes Enging 클러스터 배포하기
* pod를 사용하여 Kubernetes Engine에 container 어플리케이션을 배포하는 것
* Kubernetes Engine 어플리케이션 모니터링과 로깅 설정하는 것
  
**3.3 App Engine과 Cloud Functions 리소스를 배포하고 구현**
* App Engine에 어플리케이션 배포하는 것(ex. scaling configuration, versions, traffic splitting)
* Google Cloud 이벤트를 받는 Cloud Functions 배포하는 것(ex. Cloud Pub/Sub 이벤트, Cloud Storage object 변경 알림 이벤트)
  
**3.4 데이터 솔루션을 배포하고 구현**
* 데이터 시스템 제품 초기화(ex. Cloud SQL, Cloud Datastore, BigQuery, Cloud Spanner, Cloud Pub/Sub, Cloud Bigtable, Cloud Dataproc, Cloud Storage)
* 데이터 로딩(ex. command-line upload, API transfer, import/export, Cloud Storage에서 데이터 로드, Cloud Pub/Sub에서 데이터 스트리밍)
  
**3.5 네트워킹 리소스를 배포하고 구현**
* 서브넷과 함께 VPC 생성(ex. custom-mode VPC, shared VPC)
* 커스텀 네트워크 설정과 함께 Compute Engine 인스턴스 실행(ex. internal-only IP address, Google private access, static external, private IP address, network tags)
* VPC를 위한 ingress, egress 방화벽 정책 생성(ex. IP subnet, tags, service accounts)
* Cloud VPN을 사용하여 Google VPC와 외부 네트워크간 VPN 생성
* 어플리케이션으로 들어오는 네트워크 트래픽을 분산하기위한 로드밸런서 생성(ex. global HTTP(S) load balancer, global SSL proxy load balancer, global TCP proxy load balancer, regional network load balancer, regional internal load balancer)
  
**3.6 Cloud Launcher를 사용하여 솔루션 배포**
* Cloud Launcher 카탈로그를 탐색하고 솔루션 정보를 확인
* Cloud Launcher 마켓플레이스 솔루션 배포
  
**3.7 Deployment Manager를 사용하여 어플리케이션 배포**
* 어플리케이션의 배포를 자동화하는 Deployment Manager 템플릿 배포
* GCP 리소스를 할당하고 어플리케이션을 자동적으로 설정하는 Deployment Manager 템플릿 배포

**Section 4 : 클라우드 솔루션의 성동적인 운영 보증**

**4.1 Compute Engine 리소스 관리**
* 싱글 VM 인스턴스 관리(ex. start, stop, edit configuration, or delete an instance)
* 인스턴스 SSH/RDP
* 새로운 인스턴스에 GPU 추가, CUDA 라이브러리 설치
* 현재 동작하고있는 VM 인벤토리 조회(instance IDs, 상세정보)
* 스냅샷 작업(ex. VM의 스냅샷 생성, 조회, 삭제)
* 이미지 작업(ex. VM 이미지 생성, 조회, 삭제)
* 인스턴스 그룹 작업(ex. 오토스케일링 파라미터 세팅, 인스턴스 템플릿 할당, 인스턴스 템플릿 생성, 인스턴스 그룹 제거)
* 관리 인터페이스 작업(ex. Cloud Console, Cloud Shell, Cloud SDK)
  
**4.2 Kubernetes Engine 리소스 관리**
* 현재 동작하고 있는 클러스터 인벤토리 조회(nodes, pods, services)
* 컨테이너 이미지 저장소 탐색, 컨테이너 이미지 상세정보 조회
* nodes 작업(ex. 추가, 수정, 제거)
* pods 작업(ex. 추가, 수정, 제거)
* services 작업(ex. 추가, 수정, 제거)
* 관리 인터페이스 작업(ex. Cloud Console, Cloud Shell, Cloud SDK)

**4.3 App Engine 리소스 관리**
* 어플리케이션 트래픽 분산 파라미터 조정
* 오토스케일하는 인스턴스를 위한 파라미터 세팅
* 관리 인터페이스 작업(ex. Cloud Cosole, Cloud Shell, Cloud SDK)

**4.4 데이터 솔루션 관리**
* 데이터 인스턴스로부터 데이터를 조회하기위한 쿼리 실행(ex. Cloud SQL, BigQuery, Cloud Spanner, Cloud Bigtable, Cloud Dataproc)
* BigQuery 쿼리의 비용 측정
* 데이터 인스턴스 백업 및 원복(ex. Cloud SQL, Cloud Datastore, Cloud Dataproc)
* Cloud Dataproc이나 BigQuery에서 작업 상태 확인
* Cloud Storage 버킷간 오브젝트 이동
* 스토리지 클래스간 Cloud Storage 버킷 변환
* Cloud Storage 버킷을 위한 오브젝트 lifecyle 관리 정책 세팅
* 관리 인터페이스 작업(ex. Cloud Console, Cloud Shell, Cloud SDK)

**4.5 네트워킹 리소스 관리**
* 존재하는 VPC에 서브넷 추가
* 많은 IP 주소를 갖기 위한 CIDR 단위 서브넷 확장
* 정적 외부/내부 IP주소 확보
* 관리 인터페이스 작업(ex. Cloud Console, Cloud Shel, Cloud SDK)

**4.6 모니터링과 로깅**
* 리소스 메트릭스 기반의 Stackdriver 알림 생성
* Stackdriver 커스텀 메트릭스 생성
* 외부 시스템으로 로그를 내보내기위한 로그 싱크 설정(ex. on-premise 혹은 BigQuery)
* Stackdriver에서 로그 조회, 필터
* Stackdriver에서 특정 로그 메시지 상세정보 조회
* 어플리케이션 이슈를 연구하기위한 클라우드 진단 사용(ex. Cloud Trace 데이터 조회, 시간별 어플리케이션 포인트를 조회하기 위한 Cloud Debug 사용)
* GCP 상태 조회
* 관리 인터페이스 작업(ex. Cloud Console, Cloud Shell, Cloud SDK)

**Section 5: 접근 및 보안 설정**

**5.1 Identity와 접근 관리**
* 계정 IAM 할당 조회
* 계정이나 Google 그룹에 IAM 정책 할당
* 커스텀 IAM 정책 정의

**5.2 service account 관리**
* 한정된 범위로 서비스 계정 관리
* VM 인스턴스에 서비스 계정 할당
* 다른 프로젝트에서 서비스 계정 접근 권한 부여

**5.3 프로젝트와 관리 서비스를 위한 감시로그 조회**
**클라우드 컴퓨팅 컴포넌트**
* Compute 리소스
* 스토리지
* 네트워킹
* 특별한 서비스

**Cloud Computing과 Data Center Computing의 차이**
* 리소스 소유 대신 임대
* 사용량에 따라 비용 지불
* 탄력적인 리소스 할당
* 특별한 서비스

# Chapter 1 구글 클라우드 플랫폼 Overview

**이 챕터는 Google Associate Cloud Engineer 인증 시험에서 아래 과목을 다룬다.**

*1.0 클라우드 솔루션 환경 세팅*

구글클라우드 플랫폼(GCP)은 구글이 소유하고 있는 제품에서 사용되는 기술의 일부를 제공하는 퍼블릭 클라우드 서비스이다. 이 챕터에서는 GCP의 가장 중요한 컴포넌트에 대해 설명하고, 온프레미스 데이터센터 기반의 컴퓨팅과 어떻게 다른지 논한다.

## 클라우드 서비스의 유형

구글, 아마존, 마이크로소프트와 같은 퍼블릭 클라우드 제공업체는 비즈니스 서비스와 어플리케이션의 넓은 범위에서 실행되는 컴퓨팅, 스토리지, 네트워킹, 다른 인프라스트럭쳐를 배포하기위한 서비스를 제공한다. 몇몇 클라우드 사용자는 클라우드에서 시작하는 신생 업체이다. 그들은 보유하고있는 하드웨어와 소프트웨어가 없다. 다른 클라우드 고객은 다수의 데이터센터를 보유하고있는 기업이고, 그들의 데이터 센터를 보완하기위해 퍼블릭 클라우드를 사용한다. 이 다른 종류의 사용자는 다른 요구사항을 갖고 있다.

클라우드에서 시작하는 업체는 보유하고 있는 인프라에 대한 고려없이 그들의 어플리케이션와 구조적 니즈에 가장 알맞는 서비스를 선택할 수 있다. 예를 들면, 스타트업은 모든 인증과 권한 부여 니즈를 위한 GCP의 IAM(Identity and Access Management) 서비스를 사용할 수 있다. ID 관리를 위한 마이크로소프트 Active Directory 솔루션에 이미 투자한 업체는 클라우드의 ID 관리 시스템과 단독으로 작업하는 대신 클라우드 시스템을 활용할 수도 있다. 이것은 두 시스템을 통합하고 동기화를 유기하기위한 추가적인 작업으로 이끌 수 있다.

인프라를 보유하고 있는 기업들을 위해 고려해야하는 다른 영역은 온프레미스 리소스와 퍼블릭 클라우드 리소스간 보연 네트워크를 구축과 유지하는 것이다. 온프레미스 시스템과 퍼블릭 클라우드간에 높은 볼륨의 네트워크 트래픽이 있다면, 기업에서는 데이터센터와 퍼블릭 클라우드 제공업체의 시설간 전용 네트워크를 투자할 필요가 있다. 트래픽의 양이 시설들 간 전용 연결 비용에 비해 충분하지 않다면, 업체는 공인 인터넷 위에서 동작하는 virtual private network를 사용할 수 있다. 이것은 클라우드만 사용하는 업체에게는 할 필요가 없는 추가적인 네트워크 설계와 관리가 필요하다.

퍼블릭 클라우드 제공 업체는 4가지 넓은 카테고리의 서비스를 제공한다.
* 컴퓨트 리소스
* 스토리지
* 네트워킹
* 머신러닝 서비스와 같은 특별한 서비스들

클라우드 고객들은 전형적으로 위 카테고리중 하나 이상의 서비스를 사용한다.

### Compute Resources

컴퓨팅 리소스는 퍼블릭 클라우드에서 다양한 형태로 존재한다.

#### 가상머신

가상머신은 컴퓨팅 리소스의 기본적인 단위이고 클라우드를 경험하는데 가장 좋은 시작 포인트이다. 클라우드 제공업체에 계정을 생성하고 빌링 정보를 제공한 후에, VM을 생성하는 포털이나 커맨드라인 도구를 사용할 수 있다. 구글 클라우드 플랫폼은 다양한 수의 vCPU와 다양한 메모리가 미리 지정된 다양한 VM을 제공한다. 그리고 미리 지정된 VM이 필요하지 않는다면 커스텀으로 설정해서 생성할 수 있다.

VM을 생성하면, 로그인하여서 원하는대로 관리할 수 있다. VM에 완전한 접근권한을 갖고 있어서 파일 시스템을 설정하고, 스토리지를 설정하고, OS를 설치하고, 추가적인 패키지를 설치할 수 있다. VM에서 무엇을 실행할 지, 누구를 접속하게 할 지, 언제 VM을 종료할 것인지 결정할 수 있다. 본인이 관리하는 VM은 관리자 권한을 갖는 서버를 본인의 사무일에 둔 것과 같다. 

물론 다른 운영체제와 어플리케이션을 실행하는 다수의 VM을 생성할 수 있다. 또한 GCP는 하나의 접근 포인트를 백엔드로 분산하는 로드밸런서와 같은 서비스를 제공한다. 이것은 특히 당신의 어플리케이션을 위해 HA(high availability)가 필요할 때 유용하다. 클러스터에서 VM 중 하나에 에러가 발생하면, 워크로드는 클러스터의 다른 VM으로 분산될 수 있다. 오토스케일러는 워크로드를 기반으로 클러스터의 VM을 추가하거나 제거할 수 있다. 이것을 오토 스케일링이라고 한다. 이것은 필요보다 많은 VM이 동작하지 않기 위해 비용을 제어하고, 워크로드가 증가할 때 충분한 컴퓨팅 용량을 사용할 수 있도록 도와준다.

#### 관리형 Kubernetes 클러스터

구글 클라우드 플랫폼은 서버의 클러스터를 생성하고 관리하는데 필요한 모든 도구를 제공한다. 많은 클라우드 사용자는 그들의 어플리케이션에 초점을 두고있고, 서버가 기동하고 동작하는 클러스터를 유지하는데 필요한 작업을 하지 않는다. 이 사용자들에게 관리형 클러스터는 좋은 옵션이다.

관리형 클러스터는 컨테이너를 활용한다. 컨테이너는 같은 서버에서 하나의 컨테이너에서 동작하는 프로세스가 다른 컨테이너에서 동작하는 프로세스로부터 독립되는 가벼운 VM과 같다. 관리형 클러스터에서 실행하기 원하는 서버의 수와 여기서 동작해야하는 컨테이너를 지정할 수 있다. 또한, 동작하는 컨테이너의 수에 최적화된 오토스케일링 파라미터를 지정할 수 있다.

관리형 클러스터에서 컨테이너의 상테를 모니터링한다. 컨테이너가 에러로 인해 종료되면 클러스터 관리 소프트웨어는 이를 감지하고 다른 컨테이너를 실행한다.

컨테이너는 당신의 환경에서 다수의 마이크로 서비스가 요구되는 어플리케이션을 실행할 때 좋은 옵션이다. 서비스는 컨테이너를 통해 배포되고, 클러스터 관리 서비스는 모니터링, 네트워킹, 몇몇 보안 관리 업무를 다룬다. 

#### 서버리스 컴퓨팅

VM과 관리형 Kubernetes 클러스터는 모두 컴퓨팅 리소스를 설정하고 관리하기 위한 노력이 필요하다. 서버리스 컴퓨팅은 개발자와 어플리케이션 관리자에게 VM이나 Kubernetes 클러스터를 세팅할 필요없이 컴퓨팅 환경에서 그들의 코드를 동작하는 것을 허용한다는 접근이다. 

구글 클라우드 플랫폼에선 2가지 서버리스 컴퓨팅 옵션이 있다. App Engine과 Cloud Functions. App Engine은 웹사이트 백엔드, POS 시스템, 고객 비즈니스 어플리케이션과 같이 장시간동안 실행되는 어플리케이션과 컨테이너를 위해 사용된다. Cloud Functions은 파일 업로딩이나 메시지 큐에 미시지가 추가되는 것과 같은 이벤트를 응답하기위한 코드를 실행하는 플랫폼이다. 이 서버리스 옵션은 함수로 짜여진 짧은 프로세스를 실행하거나 VM, 클러스터, App Engine에서 장시간 실행되는 어플리케이션을 호출하여 이벤트를 응답해야 할 때 잘 동작한다.

### 스토리지

퍼블릭 클라우드는 넓은 범위의 어플리케이션 요구사항에 유용한 몇몇 유형의 스토리지 서비스를 제공한다.
* Object storage
* File storage
* Block storage
* Caches

클라우드 서비스의 기업 고객은 이런 서비스들의 조합을 자주 사용할 것이다.

#### Object Storage

오브젝트 스토리지는 오브젝트나 블롭(blobs) 단위의 스토리지 사용을 관리하는 시스템이다. 보통 오브젝트는 파일이지만, 기존 파일 시스템에서 저장되지 않는다. 오브젝트는 버킷에 그룹화된다. 각 오브젝트는 개별로 주소가 지정될 수 있고, 보통 URL로 지정된다.

오브젝트 스토리지는 서버의 디스크나 SSD 사이즈에 의해 제한되지 않는다. 오브젝트는 디스크의 사용 용량에 대한 걱정없이 업로드할 수 있다. 가용성과 내구성을 향상시키기 위해서 다수의 오브젝트 복사본이 저장된다. 몇몇 케이스에서 오브젝트의 복사본은 가용성을 보장하기 위해서 다른 regions에 저장될 수도 있다.

오브젝트 스토리지의 다른 장점은 서버리스다. 스토리지를 위해서 VM이 필요하지 않다. Cloud Storage라고 불리는 GCP의 오브젝트 스토리지는 GCP에서 동작하는 서버뿐만 아니라 인터넷에 접속한 다른 디바이스에서 접근할 수 있다.

접근 제어는 오브젝트 단위로 적용할 수 있다. Cloud storae 사용자에게 오브젝트에 접근하고 업데이트할 수 있도록 허용한다.

#### File Storage

파일 스토리지는 파일을 위한 계층구조의 스토리지 시스템이다. 파일 시스템 스토리지는 네트워크 공유 파일 시스템을 제공한다. GCP는 Cloud Filestore라고 불리는 네트워크파일시스템(NFS)기반의 파일 스토리지 서비스를 갖고있다. 

파일 스토리지는 파일 엑세스 같은 OS가 필요한 어플리케이션에 적합하다. 파일 스토리지 시스템은 파일 시스템을 특정 VM에서 분리한다. 파일시스템, 디렉토리, 파일은 해당 파일에 접근할 수 있는 VM이나 어플리케이션과 독립적으로 존재한다.

#### Block Storage

블록 스토리지는 *block* 이라고 불리는 고정된 크기의 데이터 구조를 사용하여 데이터를 구성한다. 블록 스토리지는 일반적으로 VM에 연결된 임시 및 영구 디스크에 사용된다. 블록 스토리시 시스템을 사용하면, 블록 스토리지 위에 파일시스템을 설치하거나 블록에 직접 접근하는 어플리케이션을 실행할 수 있다. 

리눅스 파일 시스템에서는 4KB가 일반적인 블록 사이즈이다. 관계형 데이터베이스는 종종 직접 블록을 쓰지만, 8KB 이상의 큰 사이즈를 종종 사용한다. 

블록 스토리지는 GCP에서 VM에 연결된 디스크에서 이용할 수 있다. 블록 스토리지는 임시적이거나 영구적일 수 있다. 영구 디스크(persistent disk)는 가상 서버에서 연결이 끊어지거나 서버가 죽어도 저장된 데이터를 유지한다. 임시 디스크(Ephemeral disk)는 VM이 동작하는 동안 데이터를 저장한다. 임시 디스크는 OS파일과 다른 파일들, VM이 멈추면 삭제되는 데이터를 저장한다. 영구 디스크는 VM과 독립적인 블록 스토리지 장치에 저장하기를 원할 때 사용된다. 이러한 디스크는 VM 라이프사이클과 독립적으로 사용히고, OS 및 파일시스템 레벨의 빠르게 접근하기를 원하는 데이터를 가질 때 좋은 옵션이다.

오브젝트 스토리지는 VM 라이프사이틀과 독립적으로 데이터를 저장하지만, OS나 파일시스템 접근를 지원하지 않는다.(오브젝트에 접근하는 HTTP와 같은 하이레벨 프로토콜을 사용해야한다.) 오브젝트 스토리지의 데이터를 조회하는 것은 블록 스토리지의 데이터를 조회하는것보다 오래걸린다. 어플리케이션의 필요에따라 오브젝트 스토리지와 블록 스토리지의 결합이 필요할 수 있다. 오브젝트 스토리지는 필요할 때 영구 디스크에 복사된 대용량의 데이터를 저장할 수 있다. 이 결합은 필요할 때 OS와 파일시스템 접근과 함께 대용량 스토리지의 이점을 제공한다.

#### Caches

캐쉬는 데이터를 빠르게 접근하는 인메모리 데이터 저장소이다. 데이터를 조회하는 데 걸리는 시간은 *latency*라고 부른다. 인메모리 저장소의 latency는 1 밀리초 미만으로 설계되었다. 비교를 위해서 아래 latency 참고:
* 기본 메모리 참조를 만드느데 100나노초 혹은 0.1마이크로초
* SSD의 4KB 임의 데이터를 읽는 것은 150 마이크로초
* 메모리의 1MB 데이터를 순차적으로 읽는 것은 250 마이크로초
* SSD의 1MB 데이터를 순차적으로 읽는 것은 1,000 마이크로초 혹은 1 밀리초
* 디스크의 1MB 데이터를 순차적으로 읽는 것은 20,000 마이크로초 혹은 20 밀리초

단위 변환을 위한 참조:
* 1,000 나노초 = 1 마이크로초
* 1,000 마이크로초 = 1 밀리초
* 1,000 밀리초 = 1 초

유용한 데이터 타이밍은 Jonas Boner의 "Latency Numbers Every Programmer Should Know"에서 확인할 수 있다. [https://gist.github.com/jboner/2841832](https://gist.github.com/jboner/2841832)

1MB 데이터를 읽는 예로 보자. 인메미로 캐쉬에 저장된 데이터를 갖고있다면, 이 데이터를 조회하는데 250 마이크로초 혹은 0.25 밀리초가 걸린다. 같은 데이터가 SSD에 저장되면, 조회하는데 시간이 1밀리초로 4배가 걸린다. 같은 데이터가 하드디스크에 저장되면, 20 밀리초가 예측되고 이는 인메모리 캐쉬보다 80배이다.

캐쉬는 어플리케이션에서 최소한의 지연으로 데이터를 읽을 필요가 있을 때 꽤 유용하다. 물론, 빠른 조회 시간을 누가 안 좋아하나? 왜 항상 데이터를 캐쉬에 저장하지 않을까? 3가지 이유가 있다.
* 메모리는 SSD나 HDD 스토리지보다 비싸다. 대부분의 경우 SSD 또는 HDD의 영구 블록 스토리지만큼 인메모리 스토리지를 보유하는 것은 실용적이지 않다.
* 캐쉬는 휘발성이다. 전원이 끊어지거나 OS가 재부팅될 때 캐쉬에 저장된 데이터를 잃는다. 빠른 접근을 위해서 캐쉬에 데이터를 저장할 수 있지만, 데이터를 유지하는 유일한 저장소로 사용되어서는 안 된다. "진정한 시스템" 혹은 항상 최신, 가장 정확한 버전의 데이터를 저장한 데이터 저장소를 유지하기 위해서는 어떠한 형태의 영구 디스크를 사용해야 한다.
* 

[맨 위로](#Contents) 
