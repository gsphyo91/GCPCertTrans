# Chapter 11 클라우드에서 Storage 기획

**이 챕터는 구글 Associate Cloud Engineer 인증 시험 과목 중, 아래 내용을 다룬다.**
* 2.3 데이터 스토리지 옵션 기획 및 설정

클라우드 엔지니어로서, GCP에서 제공되는 다양한 스토리지 옵션을 이해해야 한다. "쿼리를 위한 SQL에 접근하는 것 vs 데이터베이스에 페타바이트 급의 데이터 스트리밍을 저장하고 쿼리하는 기능"과 같이 상대적인 절충안을 알면서 주어진 케이스를 위한 적당한 옵션을 선택해야 한다.

이 책에서 대부분 다른 챕터와 다르게, 이 챕터는 GCP에서 특정 업무를 수행하는 것보다 스토리지 개념에 더 초점을 맞춘다. 여기 자료는 최고의 스토리지 솔루션을 선택하는 것에 대한 질문에 답변하는데 도움을 줄 것이다. 챕터 12는 데이터 솔루션을 배포하고 구현하는데 상세한 정보를 제공할 것이다.

스토리지 옵션 중 선택을 위해서, 스토리지 솔루션이 어떻게 다른지 이해해야 도움이 된다.
* Time to access data
* Data model
* Other features, such as consistency, availability, and support for transactions

이 챕터는 다양한 유형의 요구사항을 위해 스토리지 옵션을 선택하기 위한 가이드라인을 포함한다.

## 스토리지 시스템의 유형

스토리지 솔루션을 선택할 때 주요 고민은 데이터에 접근해야하는 시간이다. 극단적으로 CPU 칩의 L1 캐시에 있는 데이터는 0.5 나노초(ns)에 접근할 수 있다. 반대로 일부 서비스는 데이터 파일을 가져오는데 몇 시간이 요구될 수 있다. 대부분 스토리지 요구사항은 이러한 극단 사이에 있다.

**나노초, 밀리초, 마이크로초**
> 일부 스토리시 시스템은 전자 현미경에서 일어날 것 처럼 우리롸 친숙하지 않은 속도로 동작한다. 1초는 메모리나 디스크의 데이터에 접근하는데 걸리는 시간보다 극단적으로 길다. 3가지 측정 단위로 접근 시간이나 "latency"를 측정한다.
> * 나노 초(㎱), 10^-9초
> * 마이크로 초(㎲), 10^-6초
> * 밀리 초(㎳), 10^-3초 
>
> 10^-3은 과학적 표기법이고 0.001초를 의미한다. 유사하게, 10^-6은 0.000001과 같다. 10^-9는 0.000000001 초와 같다.
>
> 또 다른 고민은 Persistence이다. 특정 시스템에 저장된 데이터의 내구성은 어드정도인가? 캐시는 데이터에 접근하기 위한 가장 적은 지연시간을 제공하지만, 휘발성 데이터 유형은 오직 메모리에 전원이 공급될때만 존재한다. 서버가 중지되면 데이터는 사라진다. 디스크 드라이브는 내구성 등급이 더 높지만, 실패할 수 있다. 중복성이 도움이 된다. 데이터의 복사본을 만들고, 다른 rack, 다른 zone, 다른 region에 다른 서버에 저장함으로써, 하드웨어 장애로 인해 데이터 손실 위험을 줄인다.

GCP는 몇 가지 스토리지 서비스가 있다.
* 캐싱을 위한 관리형 Redis 캐시 서비스
* VM 사용을 위한 Persistenct disk storage
* 리소스 전반적으로 파일에 공유된 접근을 위한 Object storage
* 장기간, 비주기적 접근 요구사항을 위한 Archival stoarge

### Cache